/* iOS PWA Prevention Styles - CRITICAL for preventing PWA conversion */

/* Prevent iOS from masking icons and converting to PWA app type */
link[rel="icon"], 
link[rel="apple-touch-icon"] {
  -webkit-mask-image: none !important;
  mask-image: none !important;
  -webkit-mask-size: auto !important;
  mask-size: auto !important;
  -webkit-mask-repeat: initial !important;
  mask-repeat: initial !important;
  -webkit-mask-position: initial !important;
  mask-position: initial !important;
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  outline: none !important;
}

/* iOS specific PWA prevention */
@supports (-webkit-touch-callout: none) {
  /* Force browser mode instead of standalone */
  body {
    position: static !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
    -webkit-overflow-scrolling: auto !important;
  }
  
  #root {
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
    -webkit-overflow-scrolling: auto !important;
    padding: 0 !important;
  }
  
  /* Prevent full-screen mode */
  html, body {
    position: static !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
  }
  
  /* Remove safe area insets */
  body {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  
  /* Prevent PWA navigation */
  .pwa-nav {
    display: none !important;
  }
  
  /* Prevent PWA modal behavior */
  .pwa-modal {
    position: relative !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
    bottom: auto !important;
    background: transparent !important;
    z-index: auto !important;
  }
  
  /* Prevent PWA status bar */
  .status-bar {
    display: none !important;
  }
  
  /* Force normal scrolling */
  * {
    -webkit-overflow-scrolling: auto !important;
    overflow-scrolling: auto !important;
  }
  
  /* Prevent touch callouts */
  * {
    -webkit-touch-callout: auto !important;
    -webkit-user-select: auto !important;
    user-select: auto !important;
  }
  
  /* Allow text selection in inputs */
  input, textarea, select {
    -webkit-user-select: text !important;
    user-select: text !important;
  }
  
  /* Prevent zoom prevention */
  input, textarea, select {
    font-size: inherit !important;
    -webkit-text-size-adjust: auto !important;
    -ms-text-size-adjust: auto !important;
  }
  
  /* Remove PWA specific styles */
  .pwa-standalone {
    position: static !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
  }
  
  /* Force normal viewport behavior */
  @media screen and (max-device-width: 1024px) {
    body {
      padding: 0 !important;
    }
  }
}

/* Additional iOS PWA prevention for all devices */
@media all and (display-mode: standalone) {
  /* Override standalone mode styles */
  body {
    position: static !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
  }
  
  #root {
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
    padding: 0 !important;
  }
}

/* Force browser-like behavior */
@media all and (display-mode: browser) {
  body {
    position: static !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
  }
  
  #root {
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
    padding: 0 !important;
  }
}

/* Prevent any PWA-like behavior */
.pwa-install-prompt,
.pwa-install-content,
.pwa-install-icon,
.pwa-install-text,
.pwa-install-actions,
.pwa-install-btn,
.pwa-dismiss-btn {
  display: none !important;
}

/* Force normal app behavior */
.app-container {
  position: static !important;
  width: auto !important;
  height: auto !important;
  overflow: visible !important;
}

/* Prevent iOS Safari PWA conversion */
@supports (-webkit-touch-callout: none) and (max-width: 1024px) {
  /* Force mobile web app behavior */
  body {
    -webkit-appearance: none !important;
    appearance: none !important;
    -webkit-user-select: auto !important;
    user-select: auto !important;
    -webkit-touch-callout: auto !important;
  }
  
  /* Remove any PWA-specific positioning */
  * {
    position: static !important;
  }
  
  /* Force normal scrolling */
  html, body {
    -webkit-overflow-scrolling: auto !important;
    overflow-scrolling: auto !important;
    scroll-behavior: auto !important;
  }
}
